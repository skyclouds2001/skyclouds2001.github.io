<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/logo_miccall.png"/>
	<link rel="shortcut icon" href="/img/logo_miccall.png">
	
			    <title>
    skyclouds2001's Blog
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/css/mic_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    <meta name="keywords" content="CSY blog frontend college-student" />
    
    	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	 
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/bg.jpg') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

			    
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script async type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
<meta name="generator" content="Hexo 6.2.0"></head>
    
		
<!-- Layouts -->



<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_coy.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">ENTER</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">主页</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">分类</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/about/">About</a></li><li><a class="category-link" href="/categories/frontend/">Frontend</a></li><li><a class="category-link" href="/categories/frontend/css/">CSS</a></li><li><a class="category-link" href="/categories/frontend/framework/">FrameWork</a></li><li><a class="category-link" href="/categories/frontend/html/">HTML</a></li><li><a class="category-link" href="/categories/frontend/javascript/">JavaScript</a></li><li><a class="category-link" href="/categories/frontend/library/">Library</a></li><li><a class="category-link" href="/categories/frontend/other/">Other</a></li><li><a class="category-link" href="/categories/frontend/tool/">Tool</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        <li class="active">
	            <a href="#s1">归档</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="archive-link" href="/archives/2022/12/">十二月 2022</a></li><li><a class="archive-link" href="/archives/2022/08/">八月 2022</a></li><li><a class="archive-link" href="/archives/2022/07/">七月 2022</a>
	                    </ul>
	        </li>
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="简历">
		                简历
		            </a>
		        </li>
		        
		        <li>
		            <a href="/group/" title="团队">
		                团队
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="图库">
		                图库
		            </a>
		        </li>
		        
		        <li>
		            <a href="/tag/" title="标签">
		                标签
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
                    <li>
                        <a title="github" href="https://github.com/skyclouds2001" target="_blank" rel="noopener">
                            <i class="icon fa fa-github"></i>
                        </a>
                    </li>
                    
			</ul>
</nav>

        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(https://blog.amio.io/content/images/2019/06/vue-3.png);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >Vue</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
                <h1 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h1><p>一套构建用户界面的前端框架</p>
<ul>
<li>数据驱动视图</li>
<li>双向数据绑定</li>
</ul>
<p>MVVM：Model-View-ViewModel</p>
<p>Model 数据源</p>
<p>View DOM 结构</p>
<p>ViewModal Vue 实例</p>
<h2 id="创建-Vue-实例"><a href="#创建-Vue-实例" class="headerlink" title="创建 Vue 实例"></a>创建 Vue 实例</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="comment">// Vue实例挂载对象，接收一个选择器</span></span><br><span class="line">  <span class="comment">// 若匹配多个DOM对象，取匹配到的第一个DOM对象</span></span><br><span class="line">  <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">  <span class="comment">// 普通属性</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 计算属性：带返回值的方法</span></span><br><span class="line">  <span class="attr">computed</span>: &#123;&#125;,</span><br><span class="line">  <span class="comment">// 监听器</span></span><br><span class="line">  <span class="attr">watch</span>: &#123;&#125;,</span><br><span class="line">  <span class="comment">// 普通方法</span></span><br><span class="line">  <span class="attr">methods</span>: &#123;&#125;,</span><br><span class="line">  <span class="comment">// 过滤器</span></span><br><span class="line">  <span class="attr">filters</span>: &#123;&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="指令结构"><a href="#指令结构" class="headerlink" title="指令结构"></a>指令结构</h2><p>指令:参数:修饰符</p>
<p><code>v-on:submit.prevent=&quot;&quot;</code></p>
<h2 id="文本"><a href="#文本" class="headerlink" title="文本"></a>文本</h2><p>“Mustache”语法 <code>&#123;&#123; &#125;&#125;</code> v-text</p>
<p><code>&lt;span&gt;&#123;&#123;msg&#125;&#125;&lt;/span&gt;</code> 只能用于内容节点</p>
<p><code>&lt;span v-text=&quot;msg&quot;&gt;&lt;/span&gt;</code> 会覆盖内部文本</p>
<p>v-once 单次渲染</p>
<h2 id="原始-HTML"><a href="#原始-HTML" class="headerlink" title="原始 HTML"></a>原始 HTML</h2><ul>
<li><strong>v-html</strong></li>
</ul>
<p><code>&lt;span v-html=&quot;msg&quot;&gt;&lt;/span&gt;</code> 会覆盖内部内容</p>
<p>避免使用，可能会发生 XSS 攻击存在安全风险</p>
<h2 id="绑定-attr"><a href="#绑定-attr" class="headerlink" title="绑定 attr"></a>绑定 attr</h2><ul>
<li><strong>v-bind</strong></li>
</ul>
<p><code>&lt;a v-bind:href=&#39;url&#39;&gt;&lt;/a&gt;</code></p>
<p>简写 <code>&lt;a :href=&#39;url&#39;&gt;&lt;/a&gt;</code></p>
<h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><p>computed 对象</p>
<p>属性需为一个函数，并返回相应的值</p>
<p>使用时同正常的 data 属性即可</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="attr">val1</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`the number is <span class="subst">$&#123;<span class="variable language_">this</span>.val0&#125;</span> in the input box`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其是依赖于响应式依赖进行缓存的，仅在其相应式依赖改变时才重新计算，因而可以提高性能</p>
<p>可以添加 setter 属性，默认只针对 getter 属性，这样可以同时更新 data 中数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="attr">val1</span>: &#123;</span><br><span class="line">        <span class="attr">get</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">`the number is <span class="subst">$&#123;<span class="variable language_">this</span>.val0&#125;</span> in the input box`</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">val_1</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">val0</span> = val_1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="侦听属性"><a href="#侦听属性" class="headerlink" title="侦听属性"></a>侦听属性</h2><p>watch 对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>: &#123;</span><br><span class="line">    <span class="comment">// 方法形式</span></span><br><span class="line">    <span class="attr">val0</span>: <span class="keyword">function</span> (<span class="params">newData, oldData</span>) &#123;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 对象形式</span></span><br><span class="line">    <span class="attr">val1</span>: &#123;</span><br><span class="line">        handler (newVal, oldVal) &#123;&#125;,</span><br><span class="line">        <span class="attr">immediate</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">        <span class="attr">deep</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>实质是一个函数，函数名是监听的变量名</p>
<ul>
<li>immediate 选项</li>
</ul>
<p>立即以表达式当前值触发回调</p>
<ul>
<li>deep 选项</li>
</ul>
<p>用于监听对象内部值的变化</p>
<p>若侦听特殊格式变量，可包裹单引号 如’info.id’ () {}</p>
<p>计算属性与侦听属性区别，计算属性根据其响应式属性的改变而改变，侦听属性根据其监视的属性的改变而修改相应的属性</p>
<h2 id="绑定事件"><a href="#绑定事件" class="headerlink" title="绑定事件"></a>绑定事件</h2><ul>
<li><strong>v-on</strong></li>
</ul>
<p><code>&lt;a v-on:click=&#39;handle_click&#39;&gt;&lt;/a&gt;</code></p>
<p>简写 <code>&lt;a @click=&#39;handle_click&#39;&gt;&lt;/a&gt;</code></p>
<ul>
<li><strong>动态事件</strong></li>
</ul>
<p><code>&lt;a @[event]=&#39;handle_click&#39;&gt;&lt;/a&gt;</code></p>
<ul>
<li><strong>传参</strong></li>
</ul>
<p><code>&lt;a @click=&#39;handle_click(1)&#39;&gt;&lt;/a&gt;</code></p>
<ul>
<li><strong>传原生 DOM 事件</strong><br>$event</li>
</ul>
<p><code>&lt;a @click=&#39;handle_click($event)&#39;&gt;&lt;/a&gt;</code></p>
<p>实际方法无参时可以不用该方法，但有参数时必须使用该方法</p>
<ul>
<li><p><strong>事件修饰符</strong></p>
</li>
<li><p>prevent 阻止事件默认行为</p>
</li>
<li><p>stop 阻止事件传播</p>
</li>
<li><p>once 使事件仅触发一次</p>
</li>
<li><p>self 仅在触发事件的元素为绑定的元素本身时起效</p>
</li>
<li><p>capture 捕获事件模式：比内部元素绑定事件处理方法优先处理</p>
</li>
<li><p>passive 预先完成事件的默认行为而不是等待事件处理方法完成</p>
</li>
</ul>
<p>修饰符可以串联使用</p>
<p>鼠标修饰符</p>
<ul>
<li>left</li>
<li>right</li>
<li>middle</li>
</ul>
<p>分别仅在点击鼠标相应侧按键时起效</p>
<p>按键修饰符</p>
<ul>
<li>可以指定为相应的键码才起效</li>
</ul>
<p>.enter .tab .delete .esc .space .up .down .left .right</p>
<p>系统修饰符</p>
<ul>
<li>exact 控制仅为给定的系统修饰符触发的事件</li>
<li>ctrl alt shift meta 控制需按下对应的按键才可触发事件</li>
</ul>
<h2 id="绑定表单"><a href="#绑定表单" class="headerlink" title="绑定表单"></a>绑定表单</h2><p><strong><em>v-model</em></strong></p>
<p>表单 <code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code> 及 <code>&lt;select&gt;</code> 元素有效</p>
<p>会忽略所有表单元素的 <code>value</code>、<code>checked</code>、<code>selected</code> attribute 的初始值，故需在 data 中声明数据的初始值</p>
<ul>
<li>text 和 textarea 元素使用 <code>value</code> property 和 <code>input</code> 事件</li>
<li>checkbox 和 radio 使用 <code>checked</code> property 和 <code>change</code> 事件</li>
<li>select 字段将 <code>value</code> 作为 prop 并将 <code>change</code> 作为事件</li>
</ul>
<p>修饰符</p>
<ul>
<li>number 自动转为数值类型</li>
<li>trim 自动过滤字符串两端空格符</li>
<li>lazy 改为在 change 事件后同步而不是默认的 input 事件后同步，即输入时失去或获得焦点才会触发事件</li>
</ul>
<h2 id="条件绑定"><a href="#条件绑定" class="headerlink" title="条件绑定"></a>条件绑定</h2><ul>
<li><strong>v-if</strong> truthy 值显示，falsy 值不显示</li>
</ul>
<p>实质惰性渲染</p>
<ul>
<li><strong>v-show</strong> truthy 值显示，falsy 值不显示</li>
</ul>
<p>实质仍渲染，通过 display 属性控制</p>
<p>若经常切换显示与否用 v-show，否则用 v-if；可以大幅提高性能</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-if</span>=<span class="string">&quot;val === 0&quot;</span>&gt;</span>0<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else-if</span>=<span class="string">&quot;val === 1&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-else</span>&gt;</span>other<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>:key</strong> 可以用于强制区别元素对象</li>
</ul>
<h2 id="循环绑定"><a href="#循环绑定" class="headerlink" title="循环绑定"></a>循环绑定</h2><ul>
<li><p><strong>v-for</strong></p>
</li>
<li><p><strong>:key</strong> 建议绑定 key 属性，并使用独一无二的值作为 key 的值 一般需为字符串或数字类型</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in array&quot;</span>&gt;</span>&#123;&#123;index + &#x27; : &#x27; + item&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="过滤器"><a href="#过滤器" class="headerlink" title="过滤器"></a>过滤器</h2><p>filters</p>
<p>常用于实现文本格式化</p>
<p>可以用于插值表达式或 v-bind 属性</p>
<ul>
<li><strong>语法</strong></li>
</ul>
<p><code>&#123;&#123; message | capitalize &#125;&#125;</code></p>
<p><code>v-bind:id=&quot;rawId | formatId&quot;</code></p>
<p>前一个是定义的变量，后一个是定义的过滤器方法，接收唯一一个参数为变量</p>
<ul>
<li><strong>定义过滤器方式</strong></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 局部过滤器</span></span><br><span class="line"><span class="attr">filters</span>: &#123;</span><br><span class="line">  <span class="attr">capitalize</span>: <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!value) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    value = value.<span class="title function_">toString</span>()</span><br><span class="line">    <span class="keyword">return</span> value.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>() + value.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 全局过滤器</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;capitalize&#x27;</span>, <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!value) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  value = value.<span class="title function_">toString</span>()</span><br><span class="line">  <span class="keyword">return</span> value.<span class="title function_">charAt</span>(<span class="number">0</span>).<span class="title function_">toUpperCase</span>() + value.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>其他玩法</strong></li>
</ul>
<p><strong><em>过滤器串联</em></strong> <code>&#123;&#123; message | filterA | filterB &#125;&#125;</code></p>
<p><strong><em>过滤器接收参数</em></strong> <code>&#123;&#123; message | filterA('arg1', arg2) &#125;&#125;</code></p>
<p>默认 message 是第一个参数，’arg1’是第二个参数，arg2 是第三个参数 da</p>
<h2 id="SPA-单页面应用程序-amp-vue-cli"><a href="#SPA-单页面应用程序-amp-vue-cli" class="headerlink" title="SPA 单页面应用程序 &amp; vue-cli"></a>SPA 单页面应用程序 &amp; vue-cli</h2><p>vue-cli 用于简化使用 webpack 创建 vue 项目的过程</p>
<ul>
<li><p>创建 vue 项目<br><code>vue create PROJECT_NAME</code></p>
</li>
<li><p>vue 项目目录</p>
</li>
</ul>
<ol>
<li>src：<ol>
<li>main.js：项目入口脚本文件</li>
<li>App.vue：项目根组件</li>
<li>assets：项目静态资源 如 css 样式表、图片资源</li>
<li>components：组件</li>
</ol>
</li>
<li>public：<ol>
<li>favicon.ico：项目网页图标</li>
<li>index.html：项目页面文件</li>
</ol>
</li>
</ol>
<ul>
<li>vue 项目运行流程</li>
</ul>
<p>通过 main.js 把 App.vue 渲染到 index.html 的指定位置</p>
<p>导入 vue<br><code>import Vue from &#39;vue&#39;;</code></p>
<p>导入 app 模板<br><code>import App from &#39;./App.vue&#39;;</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加 Vue 实例</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="comment">// 渲染 render 函数指定的组件</span></span><br><span class="line">  <span class="attr">render</span>: <span class="function">(<span class="params">h</span>) =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用 $mount() 代替 el 属性绑定 DOM 对象</p>
</blockquote>
<h2 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h2><p>使用 vue 后缀名文件定义独立组件</p>
<ol>
<li><p>注册组件</p>
<p>全局：建议注册于入口文件 main.js</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&quot;my-component-name&quot;</span>, &#123;</span><br><span class="line">  <span class="comment">// ... options ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>   局部：注册于预期使用的区域</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="string">&quot;com-1&quot;</span>: &#123;</span><br><span class="line">      <span class="comment">/* options */</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>独立组件文件</p>
<ul>
<li>template 组件模板结构</li>
<li>script 组件 js 行为</li>
<li>style 组件样式</li>
</ul>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">export</span> <span class="keyword">default</span> = &#123;</span></span><br><span class="line"><span class="language-javascript">       <span class="attr">name</span>: <span class="string">&#x27;my-component-name&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">       <span class="attr">data</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="keyword">return</span> &#123;&#125;;</span></span><br><span class="line"><span class="language-javascript">       &#125;,</span></span><br><span class="line"><span class="language-javascript">       <span class="attr">watch</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">       <span class="attr">computed</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">       <span class="attr">filters</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">       <span class="comment">// props: [&#x27;my-prop-name&#x27;],</span></span></span><br><span class="line"><span class="language-javascript">       <span class="attr">props</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">           <span class="string">&#x27;my-prop-name&#x27;</span> : &#123;</span></span><br><span class="line"><span class="language-javascript">               <span class="attr">default</span>: <span class="string">&#x27;default-value&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">           &#125;,</span></span><br><span class="line"><span class="language-javascript">       &#125;,</span></span><br><span class="line"><span class="language-javascript">  &#125;;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>注意点</p>
<ul>
<li>组件应拥有一个根元素</li>
<li>组件内部 data 必须是返回包含数据的对象的函数</li>
<li>指定 style 的类型 <code>&lt;style lang=&quot;less&quot;&gt;</code></li>
<li>组件封装后是相互独立的，使用时具有父子关系</li>
</ul>
</li>
<li><p>导入 vue 文件方法</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Test</span> <span class="keyword">from</span> <span class="string">&quot;./components/test.vue&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;App&quot;</span>,</span><br><span class="line">  <span class="comment">// 声明使用Test组件</span></span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="title class_">Test</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><p>组件属性 props</p>
<p>大多数属性同 Vue 实例对象</p>
<ul>
<li>name: String 组件名称</li>
<li>props: Array | Object 组件自定义属性<br>可以直接在方法中使用，只读，可以绑定 v-bind 以动态修改自定义属性的值<ul>
<li>default 规定属性的默认值</li>
<li>type 规定属性的类型<br>String Number Boolean Array Object Date Function Symbol 一个自定义的构造函数</li>
<li>required 规定属性是否为必须的</li>
</ul>
</li>
</ul>
</li>
<li><p>样式冲突问题</p>
<p>组件内的样式全局生效，可能会影响到整个 index 页面<br>利用 scoped 设定 <code>&lt;style scoped&gt;</code><br>原理是通过自定义 HTML 属性结合 CSS 属性选择器实现<br><code>/deep/ div</code> 仅修改子组件的样式</p>
</li>
</ol>
<h2 id="组件生命周期"><a href="#组件生命周期" class="headerlink" title="组件生命周期"></a>组件生命周期</h2><ul>
<li>生命周期：组件的运行阶段</li>
<li>生命周期函数：Vue 的内置函数，按组件生命周期自动按次序执行</li>
</ul>
<ol>
<li><p>组件创建状态</p>
<ul>
<li><strong>new Vue()</strong></li>
<li><strong>init events &amp; lifecycle：初始化事件与生命周期函数</strong></li>
<li>beforeCreate：尚未初始化数据方法</li>
<li><strong>init injections &amp; reactivity：初始化 props、data、methods</strong></li>
<li>created：尚未形成实例模板结构【常用】</li>
<li><strong>基于数据和模板，在内存中编译生成 HTML 结构</strong></li>
<li>beforeMount：即将编译好的 HTML 结构渲染至浏览器中</li>
<li><strong>用内存中编译完成的 HTML 结构替换掉 el 属性指定的 DOM 元素</strong></li>
<li>mounted：已将编译好的 HTML 结构渲染至浏览器中，DOM 树已存在当前组件【常用】</li>
</ul>
</li>
<li><p>组件运行状态</p>
<ul>
<li>beforeUpdate：即将根据变化后最新的数据重新渲染组件的模板结构</li>
<li><strong>根据变化后最新的数据重新渲染组件的模板结构</strong></li>
<li>updated：已将根据变化后最新的数据重新渲染组件的模板结构【常用】</li>
</ul>
</li>
<li><p>组件销毁阶段</p>
<ul>
<li>beforeDestroy：即将销毁组件</li>
<li>destroyed：已将组件销毁</li>
</ul>
</li>
</ol>
<p><img src="https://cn.vuejs.org/images/lifecycle.png" alt="生命周期"></p>
<h2 id="组件数据共享"><a href="#组件数据共享" class="headerlink" title="组件数据共享"></a>组件数据共享</h2><ul>
<li><p>父-&gt;子 自定义属性 props</p>
</li>
<li><p>子-&gt;父 自定义事件 $emit()</p>
</li>
<li><p>兄弟&lt;-&gt;兄弟 EventBus</p>
</li>
</ul>
<p>利用 vue 实例中转，使用 bus.$emit() 触发自定义事件，使用bus.$on() 注册自定义事件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// son</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            i = <span class="number">0</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">a</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">i</span>++;</span><br><span class="line">            <span class="variable language_">this</span>.$emit(<span class="string">&#x27;e&#x27;</span>, <span class="variable language_">this</span>.<span class="property">i</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// fa</span></span><br><span class="line"><span class="comment">// &lt;Son @e=&#x27;f&#x27;&gt;&lt;/Son&gt;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            j = <span class="number">0</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">f</span>(<span class="params">v</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">j</span> = v;</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// send data</span></span><br><span class="line"><span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&#x27;./eventBus.js&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line">        <span class="title function_">send_msg</span>(<span class="params"></span>) &#123;</span><br><span class="line">            bus.$emit(<span class="string">&#x27;share&#x27;</span>, <span class="comment">/* data */</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// receive data</span></span><br><span class="line"><span class="keyword">import</span> bus <span class="keyword">from</span> <span class="string">&#x27;./eventBus.js&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">        bus.$on(<span class="string">&#x27;share&#x27;</span>, <span class="function">(<span class="params"><span class="comment">/* data */</span></span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">/* do something with data */</span></span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// eventBus.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vue</span>();</span><br></pre></td></tr></table></figure>

<h2 id="操作-DOM-元素"><a href="#操作-DOM-元素" class="headerlink" title="操作 DOM 元素"></a>操作 DOM 元素</h2><p>ref 引用<br>默认 vue 组件实例包含 $refs 属性，包含组件内所有的设置 ref 属性的 DOM 元素引用，其为一对象，键名是 ref 的值，键值即为相应的 DOM 对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* &lt;component ref=&quot;name&quot;&gt;&lt;/component&gt; */</span></span><br><span class="line"><span class="title function_">fun</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// using this.$refs.name</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>this.$nextTick()</code> 将回调函数推迟至下一个 DOM 更新周期后执行</p>
<h2 id="动态组件"><a href="#动态组件" class="headerlink" title="动态组件"></a>动态组件</h2><p>利用<code>&lt;component&gt;&lt;/component&gt;</code>实现动态组件渲染</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">component</span> <span class="attr">is</span>=<span class="string">&quot;Left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span> <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;comType&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">component</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>is 属性指定预期渲染的组件的名称，可以绑定变量实现动态切换使用的组件</li>
<li>可以用<code>&lt;keep-alive&gt;</code>包裹组件，使之能在失活时缓存，从而可以高效重复使用组件<ul>
<li>mount:<ul>
<li>activated() 钩子 组件被激活</li>
<li>deactivated() 钩子 组件被缓存</li>
</ul>
</li>
<li>props:<ul>
<li>include 仅名称匹配的组件被缓存</li>
<li>exclude 任意名称匹配的组件不被缓存</li>
<li><em>注意 include 与 exclude 不应同时使用</em></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h2><h3 id="普通插槽"><a href="#普通插槽" class="headerlink" title="普通插槽"></a>普通插槽</h3><p>将组件内部在使用组件时插入内容时提供占位符</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 文件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Com</span>&gt;</span> g <span class="tag">&lt;/<span class="name">Com</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>使用 <code>&lt;slot&gt;&lt;/slot&gt;</code> 声明一个插槽区域</p>
<p>内容使用 v-slot: 指令，且应用在 template 标签上，内部放置填充的内容<br><code>v-slot:default</code> 可简写为 <code>#default</code></p>
<p>编译时，插槽内使用的数据，父级模板里的所有内容都是在父级作用域中编译的；子模板里的所有内容都是在子作用域中编译的</p>
<h3 id="后备内容"><a href="#后备内容" class="headerlink" title="后备内容"></a>后备内容</h3><p>可以在组件内的插槽的 slot 标签内放入内容，指定若未给出应插入内容时的渲染内容</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span>&gt;</span>default value<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 文件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Com</span>&gt;</span> given value <span class="tag">&lt;/<span class="name">Com</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h3><p>具有多个插槽的组件，需要指定插槽的名称，才可以正确地插入部件</p>
<p>通过指定 name 属性实现对插槽进行区别， name 属性默认值为 <code>default</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>t<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;s1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;s2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 文件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Com</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:s1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>s1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:s2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>s2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Com</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>可以在组件内指定插槽的默认内容</p>
<h3 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h3><p>通过插槽自子元素组件向父元素传参</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 子组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">slot</span> <span class="attr">v-bind:user</span>=<span class="string">&quot;user&quot;</span>&gt;</span> &#123;&#123; user.lastName &#125;&#125; <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 父组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">current-user</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:default</span>=<span class="string">&quot;slotProps&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; slotProps.user.firstName &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">current-user</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h2><ul>
<li>私有自定义指令</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用</span></span><br><span class="line">&lt;div v-color=<span class="string">&quot;color&quot;</span>&gt;color&lt;/div&gt;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// 私有自定义指令声明在该节点之下np</span></span><br><span class="line">  <span class="attr">directives</span>: &#123;</span><br><span class="line">    <span class="attr">color</span>: &#123;</span><br><span class="line">      <span class="comment">// 首次绑定时调用</span></span><br><span class="line">      <span class="title function_">bind</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">        el.<span class="property">style</span>.<span class="property">color</span> = binding.<span class="property">value</span>;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// DOM 更新时调用</span></span><br><span class="line">      <span class="title function_">update</span>(<span class="params">el, binding</span>) &#123;</span><br><span class="line">        el.<span class="property">style</span>.<span class="property">color</span> = binding.<span class="property">value</span>;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 若binding与update相同时可简写为</span></span><br><span class="line"><span class="comment">     * color(el, binding) &#123;&#125;,</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>全局自定义指令</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&quot;colo&quot;</span>, &#123;</span><br><span class="line">  <span class="title function_">bind</span>(<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="title function_">update</span>(<span class="params"></span>) &#123;&#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&quot;colo&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>钩子函数</p>
<ul>
<li>bind 指令绑定到元素时调用</li>
<li>inserted 被绑定元素被插入父节点时调用</li>
<li>update 组件的 VNode 更新时调用</li>
<li>componentUpdated 组件的 VNode 及其子 VNode 全部更新时调用</li>
<li>unbind 指令自元素解绑时调用</li>
</ul>
</li>
<li><p>钩子函数参数</p>
<ul>
<li>el 指令绑定的元素</li>
<li>binding 指令的一些属性</li>
</ul>
</li>
</ul>
<h2 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h2><p>hash 地址与组件之间的对应关系</p>
<h3 id="初始化配置"><a href="#初始化配置" class="headerlink" title="初始化配置"></a>初始化配置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建实例对象</span></span><br><span class="line"><span class="comment">// @/src/router/index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>();</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br><span class="line"><span class="comment">// 导入 App.vue</span></span><br><span class="line"><span class="comment">// @/App.vue</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;@/router&quot;</span>; <span class="comment">// 相当于 import router from &#x27;@/router/index.js&#x27;;</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  router,</span><br><span class="line">  <span class="comment">/* ... */</span></span><br><span class="line">&#125;).$mount(<span class="string">&quot;#app&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>模块化导入，给定文件夹，默认导入文件夹下的 index.js 文件</p>
<h3 id="基本路由"><a href="#基本路由" class="headerlink" title="基本路由"></a>基本路由</h3><p>规定占位符与切换组件</p>
<ul>
<li><code>&lt;router-view&gt;&lt;/router-view&gt;</code> 占位符，显示组件</li>
<li><code>&lt;router-link to=&quot;/about&quot;&gt;关于&lt;/router-link&gt;</code>路由的切换</li>
</ul>
<p>定义路由关系</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入组件</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&quot;@/components/Home.vue&quot;</span>;</span><br><span class="line"><span class="comment">// 声明路由关系</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>路由重定向</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">      <span class="attr">redirect</span>: <span class="string">&quot;/home&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h3><p>使用动态参数实现相同组件不同路由</p>
<p><code>&lt;router-link to=&quot;/about/$&#123;id&#125;&quot;&gt;关于&lt;/router-link&gt;</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;/movie/:id&quot;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Movie</span>,</span><br><span class="line">      <span class="attr">props</span>: <span class="literal">true</span>, <span class="comment">// 配置利用 props 获取参</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>组件内部获取参数 {} &#x3D; this.$route.params</p>
<p>props 方式：直接在 Vue 实例中的 props 中获取参数</p>
<ul>
<li>路径参数 <code>this.$route.params</code></li>
<li>查询参数 <code>this.$route.query</code></li>
</ul>
<p>path：仅路径部分 &amp; fullPath：完全参数</p>
<h3 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h3><p>路由内部的路由</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;/about&quot;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * ! 重定向</span></span><br><span class="line"><span class="comment">       * redirect: &#x27;/about/tab1&#x27;,</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="attr">children</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">path</span>: <span class="string">&quot;tab1&quot;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="title class_">Tab1</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="comment">/**</span></span><br><span class="line"><span class="comment">           * ! 默认子路由</span></span><br><span class="line"><span class="comment">           */</span></span><br><span class="line">          <span class="attr">path</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">          <span class="attr">component</span>: <span class="title class_">Tab1</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      ],</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="声明式导航-amp-编程式导航"><a href="#声明式导航-amp-编程式导航" class="headerlink" title="声明式导航 &amp; 编程式导航"></a>声明式导航 &amp; 编程式导航</h3><ul>
<li>声明式：点击链接<ul>
<li><code>&lt;a&gt;</code> <code>&lt;route-link&gt;</code></li>
</ul>
</li>
<li>编程式：调用 API 跳转<ul>
<li><code>location</code></li>
<li><code>this.$route.push($&#123;url&#125;)</code> 跳转至指定的地址，并增加一条历史记录</li>
<li><code>this.$route.replace($&#123;url&#125;)</code> 跳转至指定的地址，并替换当前的历史记录</li>
<li><code>this.$route.go($&#123;number&#125;)</code> 在浏览器记录中进行前进 or 后退</li>
<li><code>this.$route.push()</code></li>
<li><code>this.$route.back()</code></li>
</ul>
</li>
</ul>
<h3 id="导航守卫"><a href="#导航守卫" class="headerlink" title="导航守卫"></a>导航守卫</h3><p>控制路由的访问权限</p>
<h4 id="全局前置守卫"><a href="#全局前置守卫" class="headerlink" title="全局前置守卫"></a>全局前置守卫</h4><p>在所有路由触发时起效</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;&#125;);</span><br></pre></td></tr></table></figure>

<p>接收一个回调函数参数<br>回调函数第一个参数代表将访问的对象，第二个参数代表将离开的对象，第三个代表调用允许的路由导航</p>
<p>调用 next()方法</p>
<ul>
<li>next() 允许跳转</li>
<li>next(<em>url</em>) 强制跳转至指定的页面</li>
<li>next(false) 不允许跳转</li>
</ul>
<h2 id="eslint"><a href="#eslint" class="headerlink" title="eslint"></a>eslint</h2><p>检查代码的风格的一款插件</p>
<p><code>.eslintrc.js</code> eslint的配置文件</p>
<ul>
<li>quotes</li>
<li>key-spacing</li>
<li>comma-dangle</li>
<li>no-multiple-empty-lines</li>
<li>no-trailing-spaces</li>
<li>eol-last</li>
<li>spaced-comment</li>
<li>indent</li>
<li>space-before-function-paren</li>
</ul>
<h2 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h2>
            </div>

            <!-- Post Comments -->
            
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #7EC0EE;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load" id="disqus_bt"> 
    <button class="disqus_click_btn">点击查看评论</button>
</div>

<!--
<script type="text/javascript">
$('.btn_click_load').click(function() {
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'http-miccall-tech'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    document.getElementById('disqus_bt').style.display = "none";
});
</script>
-->
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'https://skyclouds2001.github.io/2022/12/14/vue/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'https://skyclouds2001.github.io/2022/12/14/vue/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/javascript">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>


        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a target="_blank" rel="noopener" href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
                <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
    </div>
</body>



 	
</html>
